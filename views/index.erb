<DOCTYPE html>
<html>
<head>
  <title> Probateca - Estatisticas sobre sua fezinha </title>
  <script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
  <script src="http://code.highcharts.com/highcharts.js"></script>
  <script src="http://code.highcharts.com/modules/exporting.js"></script>
</head>
<body>
  <img src="/images/megasena.gif" />
  <div id="container" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
  <script type="text/javascript">
    $(function () {
      var chart;
      $(document).ready(function() {
        var colors = ['#000000',  '#000033',  '#000066',  '#000099',  '#0000CC',  '#0000FF',  '#003300',  '#003333',  '#003366',  '#003399',  '#0033CC',  '#0033FF',  '#006600',  '#006633',  '#006666',  '#006699',  '#0066CC',  '#0066FF',  '#009900',  '#009933',  '#009966',  '#009999',  '#0099CC',  '#0099FF',  '#00CC00',  '#00CC33',  '#00CC66',  '#00CC99',  '#00CCCC',  '#00CCFF',  '#00FF00',  '#00FF33',  '#00FF66',  '#00FF99',  '#00FFCC',  '#00FFFF',  '#330000',  '#330033',  '#330066',  '#330099',  '#3300CC',  '#3300FF',  '#333300',  '#333333',  '#333366',  '#333399',  '#3333CC',  '#3333FF',  '#336600',  '#336633',  '#336666',  '#336699',  '#3366CC',  '#3366FF',  '#339900',  '#339933',  '#339966',  '#339999',  '#3399CC',  '#3399FF',  '#33CC00',  '#33CC33',  '#33CC66',  '#33CC99',  '#33CCCC',  '#33CCFF',  '#33FF00',  '#33FF33',  '#33FF66',  '#33FF99',  '#33FFCC',  '#33FFFF',  '#660000',  '#660033',  '#660066',  '#660099',  '#6600CC',  '#6600FF',  '#663300',  '#663333',  '#663366',  '#663399',  '#6633CC',  '#6633FF',  '#666600',  '#666633',  '#666666',  '#666699',  '#6666CC',  '#6666FF'],
        categories = <%= @mega_sena.keys %>,
        name = 'Quantidade de vezes sorteado',
        data = [
          <% @mega_sena.each do |k, v| %>
            { y: <%= v %>, color: colors[<%= k %>] },
          <% end %>
        ];

        function setChart(name, categories, data, color) {
          chart.xAxis[0].setCategories(categories);
        }

        chart = new Highcharts.Chart({
          chart: {
            renderTo: 'container',
            type: 'column'
          },
          title: {
            text: 'Quantidade de vezes que o n√∫mero foi sorteado na megasena'
          },
          xAxis: {
            categories: categories
          },
          yAxis: {
            title: { text: 'Total' }
          },

          tooltip: {
            formatter: function() {
              var point = this.point,
              s = this.x +':<b>'+ this.y +'x sorteado</b>';
              return s;
            }
          },
          series: [{
            name: name,
            data: data,
            color: 'white'
          }],
          exporting: {
            enabled: false
          }
        });
      });
    });
  </script>
</body>
</html>
